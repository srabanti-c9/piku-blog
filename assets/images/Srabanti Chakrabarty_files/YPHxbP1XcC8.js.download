if (self.CavalryLogger) { CavalryLogger.start_js(["hcoX+"]); }

__d("KeyframesPerformanceLog",["performanceNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=60;a=function(){__p&&__p();function a(a,b){this.$1=0,this.$2=-1,this.$3=-1,this.$6=a,this.$5=b,this.$6=a,this.reset()}var c=a.prototype;c.onNextFrame=function(a){this.$7=a};c.start=function(){if(this.$2<0||this.$3>=0){var a=b("performanceNow")();this.$2<0?this.$2=a:this.$3>=0&&(this.$2+=a-this.$3,this.$3=-1);this.$5&&this.$5("start")}};c.pause=function(){this.$3<0&&this.$2>=0&&(this.$3=b("performanceNow")(),this.$5&&this.$5("pause"))};c.reset=function(){this.$1=0,this.$4={one:0,two:0,four:0,eight:0},this.$3=-1,this.$2=-1};c.addFrame=function(){this.$1+=1,this.$7&&(this.$7(),this.$7=null)};c.addFrameDrop=function(a){a>=8?this.$4.eight+=1:a>=4?this.$4.four+=1:a>=2?this.$4.two+=1:a>=1&&(this.$4.one+=1)};c.finish=function(){if(this.$2>=0){var a=b("performanceNow")(),c=this.$3>=0?a-this.$3:0;a=Math.max(Math.floor(a-this.$2-c),1);c=this.$1?this.$1/a*1e3:g;this.$6({animation_duration:a,display_refresh_rate:g,eight_frame_drop_count:this.$4.eight,four_frame_drop_count:this.$4.four,frame_rate:c,one_frame_drop_count:this.$4.one,two_frame_drop_count:this.$4.two});this.reset()}};return a}();e.exports=a}),null);
__d("KeyframesVersion",[],(function(a,b,c,d,e,f){"use strict";var g="2.0.0";a={getCurrentVersion:function(){return g}};e.exports=a}),null);
__d("FBKeyframesLoggedSession",["BanzaiLogger","CurrentUser","FacebookAppIDs","FunnelLogger","KeyframesEnvironment","KeyframesPerformanceLog","KeyframesPluginsLoader","KeyframesVersion","KeyframesWebConfig","once","performanceNow","uuid"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=!1;var g="KEYFRAMES_FUNNEL",h="KeyframesFramePerfLoggerConfig",i=2,j=9e18,k={appid:b("FacebookAppIDs").WWW,appversion:null,connection_class:b("KeyframesWebConfig").connectionClass,country:null,deviceid:null,extras:null,isemployee:b("CurrentUser").isEmployee()?1:0,name:"keyframes_frame_perf_report",vc:null,year_class:null};function l(a){return parseInt(a.match(/[a-f0-9]+$/gi),16)}function m(){var a=b("performanceNow")();return function(){return Math.floor(b("performanceNow")()-a)}}function n(){return{value:Date.now(),phase:b("KeyframesEnvironment").getCurrentWWWSitePhase()}}c=function(){__p&&__p();function a(c,d){__p&&__p();var e=this;this.$2=!1;this.$3=0;this.$5=1;this.$6=!1;this.$13=b("KeyframesVersion").getCurrentVersion();this.$17=function(c){e.$15("play_ended");e.$3++;if(e.$3===e.$5){c=Object.assign({},c,k,{animation_duration:String(c.animation_duration),asset_id:e.$7.assetID||null,asset_name:e.$7.assetID?null:e.$7.assetName,display_refresh_rate:String(c.display_refresh_rate),extras:'{"www_phase":"'+b("KeyframesEnvironment").getCurrentWWWSitePhase()+'"}',keyframes_version:e.$13,project_name:e.$7.projectName,session_id:e.$11});a.performanceLoggingMethod(c);e.$5<j&&(e.$5*=i)}};this.$18=function(a){switch(a){case"start":e.$15("play_started");return;case"pause":e.$15("play_ended");return}};this.$12=d||n();this.$7=c;this.$11=b("uuid")();this.$4=l(this.$11)}a.performanceLoggingMethod=function(a){b("BanzaiLogger").log(h,a)};var c=a.prototype;c.startDecode=function(a){var c=this;if(!this.$1){this.$14();this.$15("asset_decode_started",a);var d=m();this.$1=b("once")(function(a,b){c.$15("asset_decode_ended",a,{"time_since:asset_decode_started":d(),plugins_decoded:b||[]})})}return this.$1};c.error=function(a){this.$14(),this.$1?this.$16("asset_decode_failed",a):this.$16("asset_request_failed",a)};c.markAsPackage=function(){this.$6||(b("FunnelLogger").addFunnelTag(g,this.$4,"package"),this.$6=!0)};c.getUUID=function(){return this.$11};c.getInstanceID=function(){return this.$4};c.getPerformanceLogIfEnabled=function(){__p&&__p();var a=this;if(b("KeyframesWebConfig").enableLogging){if(!this.$8){var c=this.$14(),d=new(b("KeyframesPerformanceLog"))(this.$17,this.$18);d.onNextFrame(function(){return a.$15("first_frame_rendered",n(),{"time_since:session_started":c()})});this.$8=d}return this.$8}return null};c.$14=function(){this.$10||(b("KeyframesWebConfig").enableLogging&&(b("FunnelLogger").startFunnelAtTime(g,this.$12.value,this.$4),this.$15("session_started",this.$12,{supported_plugins:Object.keys(b("KeyframesPluginsLoader").getSupportedPlugins())})),this.$10=m());return this.$10};c.$15=function(a,c,d){c=c||n(),b("KeyframesWebConfig").enableLogging&&(this.$2||b("FunnelLogger").appendActionAtTimeWithPayload(g,c.value,this.$4,a,Object.assign({},this.$19(),d,{www_phase:c.phase})))};c.$16=function(a,c){c=c||n(),b("KeyframesWebConfig").enableLogging&&(this.$2||(this.$15("session_failed",c,{fail_reason:a}),b("FunnelLogger").endFunnelAtTime(g,c.value,this.$4),this.$2=!0))};c.$19=function(){return{asset_id:this.$7.assetID||null,asset_name:this.$7.assetID?null:this.$7.assetName,asset_source:"network",keyframes_version:this.$13,project_name:this.$7.projectName,session_id:this.$11,www_phase:b("KeyframesEnvironment").getCurrentWWWSitePhase()}};return a}();e.exports=c}),null);