if (self.CavalryLogger) { CavalryLogger.start_js(["o7xvV"]); }

__d("ShowVideoEndScreenWithActions.react",["ix","cx","fbt","Arbiter","AsyncRequest","CenteredContainer.react","Image.react","LineClamp.react","Link.react","List.react","React","SubscriptionsHandler","URI","VideoHomeClickTargets","VideoHomeEvents","VideoHomeTypedLogger","VideoPlayerStates","fbglyph"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j="FollowingUser",k="UnfollowingUser";a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={following:d.props.following,playerState:""},d.$4=function(){var a=d.props.vpc.getVideoID(),c=d.props.pageID,e=new(b("URI"))(d.state.following?d.props.unfollowUri:d.props.followUri).setQueryData({profile_id:c,location:d.props.location});new(b("AsyncRequest"))(e).setMethod("POST").send();e=d.state.following?k:j;b("Arbiter").inform(e,{contextID:a,focusOnClick:!1,profile_id:c,suppress:!0});d.setState({following:!d.state.following})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.componentDidMount=function(){var a=this;this.$1=new(b("SubscriptionsHandler"))();this.$1.addSubscriptions(this.props.vpc.addListener("stateChange",function(){return a.setState({playerState:a.props.vpc.getState()})}),this.props.vpc.addListener("TahoeController/exitTahoe",function(){a.forceUpdate()}),b("Arbiter").subscribe(j,function(b,c){a.props.pageID==c.profile_id&&a.setState({following:!0})}),b("Arbiter").subscribe(k,function(b,c){a.props.pageID==c.profile_id&&a.setState({following:!1})}))};d.componentWillUnmount=function(){this.$1.release()};d.render=function(){var a=this.props.vpc;if(!a||!a.isInline())return null;if(this.state.playerState!==b("VideoPlayerStates").FINISHED)return null;a=this.$2();new(b("VideoHomeTypedLogger"))().setEvent(b("VideoHomeEvents").SHOW_VIDEO_END_SCREEN_IMPRESSION).log();return b("React").createElement(b("CenteredContainer.react"),{className:"_2a_1",fullHeight:!0,vertical:!0},a)};d.$3=function(){return b("React").createElement("li",{className:"_2a_2 _2la4"},b("React").createElement(b("Link.react"),{className:"_2pi9",onClick:this.$4},b("React").createElement("div",{className:"_2a_3"},b("React").createElement("div",{className:"_2a_5"}),b("React").createElement("div",{className:"_2a_c _2a_f"},b("React").createElement(b("Image.react"),{src:g("114930"),size:"24"}))),b("React").createElement("div",{className:"_2a_e _2la8"},b("React").createElement(b("CenteredContainer.react"),{horizontal:!1,fullHeight:!0,vertical:!0},i._("{=Follow this show} {=to get new episodes in your watchlist}",[i._param("=Follow this show",b("React").createElement("span",null,i._("Follow this show"))),i._param("=to get new episodes in your watchlist",b("React").createElement("span",{className:"_2laa"},i._("to get new episodes in your watchlist")))])))))};d.$5=function(){var a=this,c=this.props.moreEpisodesUri;return b("React").createElement("li",{className:"_2a_2 _2la4"},b("React").createElement(b("Link.react"),{className:"_2pi9",href:c,onClick:function(){a.$6(b("VideoHomeClickTargets").SHOW_VIDEO_END_SCREEN_MORE_EPISODES_BUTTON)}},b("React").createElement("div",{className:"_2a_3"},b("React").createElement("div",{className:"_2a_5"}),b("React").createElement("div",{className:"_2a_c _2la9"},b("React").createElement(b("Image.react"),{src:g("115397"),size:"24"}))),b("React").createElement("div",{className:"_2a_e _2la5"},b("React").createElement(b("CenteredContainer.react"),{horizontal:!1,fullHeight:!0,vertical:!0},b("React").createElement(b("LineClamp.react"),{lines:2},i._("{=More Episodes} {=from} {=[show_name]}",[i._param("=More Episodes",b("React").createElement("span",null,i._("More episodes"))),i._param("=from",b("React").createElement("span",{className:"_2laa"},i._("from"))),i._param("=[show_name]",b("React").createElement("span",{className:"_2laa"},i._("{show_name}",[i._param("show_name",this.props.pageTitle)])))]))))))};d.$2=function(){var a=this.state.following?this.$5():this.$3();return b("React").createElement(b("List.react"),{border:"none",className:this.state.playerState!=="finished"?"hidden_elem":""},a)};d.$6=function(a){new(b("VideoHomeTypedLogger"))().setEvent(b("VideoHomeEvents").CLICK).setClickTarget(a).log()};return c}(b("React").Component);e.exports=a}),null);
__d("VideoMatureContentRatingPill.react",["cx","React","SubscriptionsHandler","SUIAtlasChromeTheme","SUILink.react","SUITooltip.react","VideoPlayerController"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h=6.5,i=1;a=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(c){__p&&__p();var d;d=a.call(this,c)||this;d.state={activated:!1,fadeOut:!1};d.$1=new(b("SubscriptionsHandler"))();d.$1.addSubscriptions(d.props.vpc.addListener("beginPlayback",function(a){if(a.position<i){d.setState({activated:!0});return}d.state.activated&&d.setState({activated:!1})}),d.props.vpc.addListener("clickVideo",function(){d.setState({activated:!1}),d.$1.release()}),d.props.vpc.addListener("updateStatus",function(a){a.position>h&&d.setState({fadeOut:!0})}));return d}var d=c.prototype;d.shouldComponentUpdate=function(a,b){return this.state.activated!==b.activated||this.state.fadeOut!==b.fadeOut?!0:!1};d.render=function(){var a=b("React").createElement("span",null,this.props.tooltip+" ",b("React").createElement(b("SUILink.react"),{"aria-label":"Learn More",href:this.props.learnMoreLink,isInverseColor:!0,target:"_blank"},"Learn More"));a=this.state.activated?b("React").createElement("div",{className:"_3wm-"+(this.state.fadeOut?" _3wm_":"")+(this.state.fadeOut?"":" _3wn0")},b("React").createElement(b("SUITooltip.react"),{theme:b("SUIAtlasChromeTheme"),tooltip:a},b("React").createElement("div",{className:"_3wn1"},this.props.ratingText))):null;return a};return c}(b("React").Component);e.exports=a}),null);
__d("FollowButtonEpisodesNux",["AsyncRequest","Event","XBasicFBNuxGenShouldShowController"],(function(a,b,c,d,e,f){__p&&__p();a=function(){"use strict";__p&&__p();function a(a,c,d,e,f,g){__p&&__p();var h=this;this.$1=a.getVideoPlayerController();this.$2=c;this.$3=d;this.$4=!0;this.$5=e;this.$6=f;this.$7=g/100;this.$1.addListener("updateStatus",this.$8.bind(this));b("Event").listen(this.$2,"click",function(){return h.$9()})}var c=a.prototype;c.$8=function(a){a=a.position/this.$1.getPlaybackDuration();a>this.$7&&this.$4&&(this.$4=!1,this.$6&&this.$10(),this.$1.removeCurrentListener())};c.$9=function(){this.$4==!0&&this.$3.hide(),this.$4=!1};c.$10=function(){var a=this,c=b("XBasicFBNuxGenShouldShowController").getURIBuilder().setInt("nux_id",this.$5).getURI();new(b("AsyncRequest"))().setURI(c).setMethod("GET").setReadOnly(!0).setHandler(function(b){c=b.getPayload(),c.should_show_nux&&a.$3.show()}).send()};return a}();e.exports=a}),null);
__d("VideoPlayerControllerForFeedVideo",[],(function(a,b,c,d,e,f){a=function(){"use strict";function a(a){this.$1=a}var b=a.prototype;b.getVideoPlayerController=function(){return this.$1};return a}();e.exports=a}),null);
__d("VideoShowsShowmarkOverlay",["cx","CSS","VideoPlayerReason"],(function(a,b,c,d,e,f,g){__p&&__p();var h=4e3;a=function(){"use strict";__p&&__p();a.init=function(b,c){return new a(b,c)};function a(a,c){__p&&__p();var d=this;this.handleBeginPlayback=function(){d.$4||(d.$5&&(clearTimeout(d.$5),d.$5=null),d.$4=!0,b("CSS").removeClass(d.$2,"_3nj3")),d.$5=setTimeout(function(){b("CSS").addClass(d.$2,"_3nj3")},h)};this.handlePausePlayback=function(a){a===b("VideoPlayerReason").AUTOPLAY&&(d.$4=!1)};this.$1=a;this.$2=c;this.$4=!0;this.$5=null;a.addListener("beginPlayback",this.handleBeginPlayback);a.addListener("pauseRequested",this.handlePausePlayback)}return a}();e.exports=a}),null);